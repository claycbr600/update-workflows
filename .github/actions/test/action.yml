name: Close Issue

inputs:
  commit:
    description: 'Commit sha of release tag'
    required: true

runs:
  using: composite

  steps:
    - name: Get release tag
      uses: actions/github-script@v5
      id: release-tag
      with:
        result-encoding: string
        script: |
          const resp = await github.rest.git.getTag({
            owner: context.repo.owner,
            repo: context.repo.repo,
            tag_sha: "${{ inputs.commit }}"
          })
          console.log(resp.data)
          return resp.data.tag

    - name: print release tag
      shell: bash
      run: echo "tag = ${{ steps.release-tag.outputs.result }}"
